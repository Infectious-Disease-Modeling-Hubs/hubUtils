<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Changelog • hubUtils</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Changelog"><meta property="og:image" content="https://infectious-disease-modeling-hubs.github.io/hubUtils/logo.png"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-light navbar-expand-lg bg-light"><div class="container">
    
    <a class="navbar-brand me-2" href="../index.html">hubUtils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9013</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item">
  <a class="nav-link" href="../reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="../articles/connect_hub.html">Accessing model-output data</a>
    <a class="dropdown-item" href="../articles/hub-setup.html">Setting up a Hub</a>
  </div>
</li>
<li class="active nav-item">
  <a class="nav-link" href="../news/index.html">Changelog</a>
</li>
      </ul><form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="../search.json" id="search-input" placeholder="Search for" autocomplete="off"></form>

      <ul class="navbar-nav"><li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div>

    
  </div>
</nav><div class="container template-news">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Changelog</h1>
      <small>Source: <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/blob/HEAD/NEWS.md" class="external-link"><code>NEWS.md</code></a></small>
    </div>

    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9013" id="hubutils-0009013">hubUtils 0.0.0.9013<a class="anchor" aria-label="anchor" href="#hubutils-0009013"></a></h2>
<ul><li>Introduced <code><a href="../reference/coerce_to_hub_schema.html">coerce_to_hub_schema()</a></code> function and applied it to <code><a href="../reference/create_model_out_submit_tmpl.html">create_model_out_submit_tmpl()</a></code> &amp; <code><a href="../reference/expand_model_out_val_grid.html">expand_model_out_val_grid()</a></code> to ensure column data types in returned tibbles are consistent with the hub’s schema (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/100" class="external-link">#100</a>).</li>
<li>Fixed bug where optional <code>mean</code>/<code>median</code> output types where being included erroneously when <code>required_vals_only = TRUE</code>.</li>
<li>Exported function <code><a href="../reference/get_round_task_id_names.html">get_round_task_id_names()</a></code> (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/99" class="external-link">#99</a>).</li>
<li>Memoised function <code><a href="../reference/read_config.html">read_config()</a></code> (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/101" class="external-link">#101</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9012" id="hubutils-0009012">hubUtils 0.0.0.9012<a class="anchor" aria-label="anchor" href="#hubutils-0009012"></a></h2>
<ul><li>Fixed bug (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/95" class="external-link">#95</a> &amp; <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/97" class="external-link">#97</a>) which was causing <code><a href="../reference/connect_hub.html">connect_hub()</a></code> to error when <code>"csv"</code> was an accepted hub file format but there were no csv in the model output directory. Now <code><a href="../reference/connect_hub.html">connect_hub()</a></code> checks for the presence of files of each accepted file format and only opens datasets for file formats of which files exists. If there are no files of any accepted file_format in the model output directory, the S3 <code>hub_connection</code> object returned consists of an empty list.</li>
<li>Fixed bug (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/96" class="external-link">#96</a>) which was required <code>hubUtils</code> to be loaded for <code>std_colnames</code> to be internally available.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9011" id="hubutils-0009011">hubUtils 0.0.0.9011<a class="anchor" aria-label="anchor" href="#hubutils-0009011"></a></h2>
<ul><li>Changed default behaviour of <code><a href="../reference/create_model_out_submit_tmpl.html">create_model_out_submit_tmpl()</a></code>. Function now, by default, returns rows of complete cases only and the behaviour is controlled by argument <code>complete_cases_only</code>. Argument <code>remove_empty_cols</code> was also removed.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9010" id="hubutils-0009010">hubUtils 0.0.0.9010<a class="anchor" aria-label="anchor" href="#hubutils-0009010"></a></h2>
<ul><li>
<strong>Support for Hubs using schema earlier than v2.0.0 deprecated</strong>. Currently a warning is issued when interacting with such Hubs. Support will eventually be retired completely and errors will be produced with Hubs using older config schema.</li>
<li>Added <code><a href="../reference/create_model_out_submit_tmpl.html">create_model_out_submit_tmpl()</a></code> for generating round specific model output template tibbles (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/82" class="external-link">#82</a>).</li>
<li>Added lower level utilities:
<ul><li>
<code><a href="../reference/expand_model_out_val_grid.html">expand_model_out_val_grid()</a></code> for creating an expanded grid of valid task ID and output type ID across round modeling tasks and output types.</li>
<li>
<code><a href="../reference/get_round_idx.html">get_round_idx()</a></code>: for getting an integer index of the element in <code>config_tasks$rounds</code> that a character round identifier maps to.</li>
<li>
<code><a href="../reference/get_round_idx.html">get_round_ids()</a></code>: for getting a list or character vector of Hub round IDs.</li>
</ul></li>
<li>Added additional <code>tasks.json</code> validation checks via <code><a href="../reference/validate_config.html">validate_config()</a></code>:
<ul><li>Check that all task_id and output_type_id values are unique across <code>required</code> and <code>optional</code> properties.</li>
<li>In rounds where <code>round_id_from_variable</code> is <code>TRUE</code>, check that the specification of the task_id set as <code>round_id</code> is consistent across modelling tasks.</li>
<li>Check that <code>round_id</code> values are unique across rounds.</li>
</ul></li>
<li>Exported object <code>std_colnames</code> which contains standard column names used in hubverse model output data files, for use in other hubverse packages (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/88" class="external-link">#88</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9009" id="hubutils-0009009">hubUtils 0.0.0.9009<a class="anchor" aria-label="anchor" href="#hubutils-0009009"></a></h2>
<ul><li>Added <code><a href="../reference/as_model_out_tbl.html">as_model_out_tbl()</a></code> function to standardise model output data by converting to a <code>model_out_tbl</code> S3 class object. (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/32" class="external-link">#32</a>, <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/33" class="external-link">#33</a>, <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/63" class="external-link">#63</a>, <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/64" class="external-link">#64</a>, <a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/66" class="external-link">#66</a>)</li>
<li>To support back-compatibility with model output data in older hubs, added functions <code><a href="../reference/model_id_merge.html">model_id_merge()</a></code> and <code><a href="../reference/model_id_merge.html">model_id_split()</a></code> to create <code>model_id</code> column from separate <code>team_abbr</code> and <code>model_abbr</code> columns and vice versa (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/63" class="external-link">#63</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9008" id="hubutils-0009008">hubUtils 0.0.0.9008<a class="anchor" aria-label="anchor" href="#hubutils-0009008"></a></h2>
<ul><li>Added argument <code>output_type_id_datatype</code> to <code><a href="../reference/connect_hub.html">connect_hub()</a></code> to allow overriding default behaviour of automatically detecting the <code>output_type_id</code> column data type from the <code>tasks.json</code> config file (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/70" class="external-link">#70</a>).</li>
<li>Exposed <code><a href="../reference/create_hub_schema.html">create_hub_schema()</a></code> argument <code>partitions</code> to <code><a href="../reference/connect_hub.html">connect_hub()</a></code> function to accommodate custom hub partitioning.</li>
<li>Added argument <code>partition_names</code> to <code><a href="../reference/connect_hub.html">connect_model_output()</a></code> to accommodate custom hub partitioning.</li>
<li>Added argument <code>schema</code> to <code><a href="../reference/connect_hub.html">connect_model_output()</a></code> to allow for overriding default <code>arrow</code> schema auto-detection.</li>
<li>Moved <code>jsonvalidate</code> package to Imports so Hub administrator functionality accessible through standard installation.</li>
<li>Removed argument <code>format</code> from <code><a href="../reference/create_hub_schema.html">create_hub_schema()</a></code> which now creates the same schema from a <code>tasks.json</code> config file, regardless of the data file format (<a href="https://github.com/Infectious-Disease-Modeling-Hubs/hubUtils/issues/80" class="external-link">#80</a>).</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9007" id="hubutils-0009007">hubUtils 0.0.0.9007<a class="anchor" aria-label="anchor" href="#hubutils-0009007"></a></h2>
<ul><li>New function <code><a href="../reference/validate_hub_config.html">validate_hub_config()</a></code> allows maintainers to check the validity of hub config files in a single call. Function <code><a href="../reference/view_config_val_errors.html">view_config_val_errors()</a></code> also modified to create combined report for hub config files from output of <code><a href="../reference/validate_hub_config.html">validate_hub_config()</a></code>.</li>
<li>Breaking change: All <code>model-output</code> data are expected to have <code>output_type</code> &amp; <code>output_type_id</code> instead of <code>type</code> &amp; <code>type_id</code> respectively.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9006" id="hubutils-0009006">hubUtils 0.0.0.9006<a class="anchor" aria-label="anchor" href="#hubutils-0009006"></a></h2>
<ul><li>
<code><a href="../reference/connect_hub.html">connect_hub()</a></code> now automatically determines the <code>output_type_id</code> column data type from the tasks.json config file coercing to the highest possible data type, “character” being the lowest denominator.</li>
<li>Introduced function <code><a href="../reference/create_hub_schema.html">create_hub_schema()</a></code> for determining the schema for data in a hub’s model-output directory from a tasks.json config file.</li>
<li>
<code><a href="../reference/connect_hub.html">connect_hub()</a></code> now allows establishing connections to hubs with multiple file type formats.</li>
<li>
<code>create_output_type_categorical()</code> function was renamed to <code><a href="../reference/create_output_type_quantile.html">create_output_type_pmf()</a></code>.</li>
<li>When extracting data via a hub connection, the column containing model identification information, inferred from <code>model-output</code> data directory partitions, was renamed from “model” to “model_id”.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9005" id="hubutils-0009005">hubUtils 0.0.0.9005<a class="anchor" aria-label="anchor" href="#hubutils-0009005"></a></h2>
<ul><li>Re-implemented <code><a href="../reference/connect_hub.html">connect_hub()</a></code> function to open connection to <code>model-output</code> data implemented through an <code>arrow</code> <code>FileSystemDataset</code> object. This allows users to create custom <code>dplyr</code> queries to access model output data.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9004" id="hubutils-0009004">hubUtils 0.0.0.9004<a class="anchor" aria-label="anchor" href="#hubutils-0009004"></a></h2>
<ul><li>Added functionality to help create json configuration files.</li>
</ul></div>
    <div class="section level2">
<h2 class="pkg-version" data-toc-text="0.0.0.9003" id="hubutils-0009003">hubUtils 0.0.0.9003<a class="anchor" aria-label="anchor" href="#hubutils-0009003"></a></h2>
<ul><li>Added <code><a href="../reference/validate_config.html">validate_config()</a></code> function to validate json configuration files against Hub schema as well as function <code><a href="../reference/view_config_val_errors.html">view_config_val_errors()</a></code> for viewing a concise and easier to navigate table of validation errors.</li>
<li>Added a <code>NEWS.md</code> file to track changes to the package.</li>
</ul></div>
  </main><aside class="col-md-3"><nav id="toc"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p></p><p>Developed by Anna Krystalli.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer></div>

  

  

  </body></html>

